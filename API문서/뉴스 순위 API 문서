## 순위 산정 API

| 기능명    | 담당자 | 구현 여부 | 유형  | URL               | 설명                                                         | 파라미터명     | 파라미터 설명                              | 예시                        |
|-----------|--------|----------|------|-------------------|------------------------------------------------------------|----------------|-----------------------------------------|-----------------------------|
| 순위 산정 | 홍길동 | 완료     | POST | /api/news/rank    | Article 테이블의 크롤링된 데이터를 기반으로 순위를 산정합니다. | rank_type      | 순위 유형 (daily/weekly)                   | `daily`                     |

#### 처리
- **순위 계산 로직**: 
  - Article 테이블의 크롤링된 데이터(조회수, 발행일시) 기준 순위 계산
  - 활성화된 기사만 대상
  - 카테고리별/전체 상위 10개 선정
  - 계산 시간: 최대 5분
  - 카테고리당 1개 프로세스만 실행

#### 출력
- **ArticleRank 테이블에 저장**:
  - **article_id**: 순위 선정된 기사
  - **rank_type**: daily/weekly
  - **rank_position**: 1~10 순위값

### 기능: 순위 산정
- **담당자**: 홍길동
- **구현 여부**: 완료
- **유형**: POST
- **URL**: `/api/news/rank`
- **설명**: Article 테이블의 기사 정보를 기반으로 순위를 산정합니다.

#### 입력 파라미터
- **rank_type**: 순위 유형
  - **설명**: 일간/주간 순위 유형을 지정합니다.
  - **예시**: `daily`, `weekly`
  - **제약 조건**: 문자열(daily/weekly), 필수

- **view_count**: 조회수
  - **설명**: 기사의 조회수입니다.
  - **예시**: `1000`
  - **제약 조건**: 정수, 필수

- **published_at**: 발행일시
  - **설명**: 기사의 발행일시입니다.
  - **예시**: `2023-10-01T12:00:00Z`
  - **제약 조건**: ISO 8601 형식, 필수

- **category_id**: 카테고리 ID
  - **설명**: 기사의 카테고리 ID입니다.
  - **예시**: `1`
  - **제약 조건**: 정수, 필수

- **is_active**: 활성화 상태
  - **설명**: 기사의 활성화 상태입니다.
  - **예시**: `true`
  - **제약 조건**: boolean, 필수

#### 처리
- **순위 계산 로직**: SQL로 구현되어 있으며, 각 카테고리 내에서 조회수와 발행일시를 기준으로 기사의 순위를 계산합니다. 활성화된 기사만을 대상으로 하며, 지정된 기간 동안 발행된 기사만 포함됩니다.
  - Article 테이블의 크롤링된 데이터(조회수, 발행일시) 기준 순위 계산
  - 활성화된 기사만 대상
  - 카테고리별/전체 상위 10개 선정
  - 계산 시간: 최대 5분
  - 카테고리당 1개 프로세스만 실행
  
#### 출력
- **ArticleRank 테이블에 저장**:
  - **article_id**: 순위 선정된 기사
  - **rank_type**: daily/weekly
  - **rank_position**: 1~10 순위값

#### 응답
- **상태 코드**: 200 OK
- **본문**: 순위 산정 결과의 요약 정보

### 추가 정보
- **에러 코드 및 메시지**:
  - 400 Bad Request: 잘못된 요청 파라미터
  - 401 Unauthorized: 인증 실패
  - 500 Internal Server Error: 서버 내부 오류
- **데이터 형식**: 요청과 응답은 JSON 형식으로 처리됩니다.


## 순위 갱신 API

| 기능명    | 담당자 | 구현 여부 | 유형  | URL               | 설명                                                         | 파라미터명     | 파라미터 설명                              | 예시                        |
|-----------|--------|----------|------|-------------------|------------------------------------------------------------|----------------|-----------------------------------------|-----------------------------|
| 순위 갱신 | 홍길동 | 완료     | POST | /api/news/rank/update | 일간 및 주간 순위 갱신을 수행합니다.                        | update_time    | 갱신 시점                                    | `daily`, `weekly`           |

### 기능: 순위 갱신
- **담당자**: 홍길동
- **구현 여부**: 완료
- **유형**: POST
- **URL**: `/api/news/rank/update`
- **설명**: 일간 및 주간 순위 갱신을 수행합니다.

#### 입력 파라미터
- **update_time**: 갱신 시점
  - **설명**: 순위 갱신을 수행할 시점입니다.
  - **예시**: `daily`, `weekly`
  - **제약 조건**: 문자열, 필수

#### 처리
- **순위 계산 및 저장**: 새로운 순위를 계산하고 ArticleRank 테이블에 저장합니다. 일간 갱신은 매일 00:00에, 주간 갱신은 매주 월요일 00:00에 수행됩니다.

#### 출력
- **ArticleRank 테이블에 저장**:
  - **rank_type**: daily/weekly
  - **rank_position**: 1~10 순위값
  - **article_id**: 기사 ID

#### 응답
- **상태 코드**: 200 OK
- **본문**: 순위 갱신 결과의 요약 정보

### 추가 정보
- **에러 코드 및 메시지**:
  - 400 Bad Request: 잘못된 요청 파라미터
  - 401 Unauthorized: 인증 실패
  - 500 Internal Server Error: 서버 내부 오류
- **데이터 형식**: 요청과 응답은 JSON 형식으로 처리됩니다.